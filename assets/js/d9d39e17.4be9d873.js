"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[46425],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),d=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=d(n),m=r,g=u["".concat(s,".").concat(m)]||u[m]||c[m]||a;return n?o.createElement(g,i(i({ref:t},p),{},{components:n})):o.createElement(g,i({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var d=2;d<a;d++)i[d]=n[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},56688:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return d},toc:function(){return c}});var o=n(87462),r=n(63366),a=(n(67294),n(3905)),i=["components"],l={id:"did-implementation",title:"Polygon DID Implementation",sidebar_label:"Identity",description:"Learn about DID implementation on Polygon",keywords:["docs","polygon","matic","DID","identity"],image:"https://wiki.polygon.technology/img/polygon-logo.png",slug:"did-implementation/getting-started"},s=void 0,d={unversionedId:"develop/did-implementation",id:"develop/did-implementation",title:"Polygon DID Implementation",description:"Learn about DID implementation on Polygon",source:"@site/docs/develop/did-implementation.md",sourceDirName:"develop",slug:"/develop/did-implementation/getting-started",permalink:"/matic-docs/docs/develop/did-implementation/getting-started",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/develop/did-implementation.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686626387,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"did-implementation",title:"Polygon DID Implementation",sidebar_label:"Identity",description:"Learn about DID implementation on Polygon",keywords:["docs","polygon","matic","DID","identity"],image:"https://wiki.polygon.technology/img/polygon-logo.png",slug:"did-implementation/getting-started"},sidebar:"develop",previous:{title:"dApps Data Tutorial",permalink:"/matic-docs/docs/develop/dapp-fauna-polygon-react"},next:{title:"Miscellaneous",permalink:"/matic-docs/docs/category/miscellaneous"}},p={},c=[{value:"Polygon DID Method",id:"polygon-did-method",level:2},{value:"Polygon DID Implementation",id:"polygon-did-implementation",level:2},{value:"Create DID",id:"create-did",level:3},{value:"Register DID",id:"register-did",level:3},{value:"Resolve DID",id:"resolve-did",level:2},{value:"Update DID Document",id:"update-did-document",level:2},{value:"Delete DID Document",id:"delete-did-document",level:2},{value:"Contributing to the Repository",id:"contributing-to-the-repository",level:2}],u={toc:c};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This is a startup guide for users who wish to use the implementation packages published by Polygon team, to generate and publish a Polygon DID on the Polygon ledger."),(0,a.kt)("p",null,"The Polygon DID method Implementation comprises of 3 packages, namely the polygon-did-registrar, polygon-did-resolver and polygon-did-registry-contract. A user who wants to incorporate the functionality to either register or read a DID on or from Polygon network can use the following guide."),(0,a.kt)("p",null,"A DID is essentially a unique identifier, that has been created without the presence of a central authority.  DID in context of Verifiable Credentials is used to sign documents, thereby facilitating the user to prove ownership of the document when required."),(0,a.kt)("h2",{id:"polygon-did-method"},"Polygon DID Method"),(0,a.kt)("p",null,"The Polygon DID method definition conforms to the DID-Core specifications and standards. A DID URI is composed of three components separated by colons, the scheme, followed by the method name and finally a method specific identifier. For Polygon the URI looks like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"did:polygon:<Ethereum address>\n")),(0,a.kt)("p",null,"Here the scheme is ",(0,a.kt)("inlineCode",{parentName:"p"},"did"),", method name is ",(0,a.kt)("inlineCode",{parentName:"p"},"polygon")," and method specific identifier is an ethereum address."),(0,a.kt)("h2",{id:"polygon-did-implementation"},"Polygon DID Implementation"),(0,a.kt)("p",null,"Polygon DID can be implemented with help of two packages, user can import the respective npm libraries and use them to incorporate Polygon DID methodologies in thier respective applications. Details for implementation are provided in next section."),(0,a.kt)("p",null,"To get started, one first needs to create a DID. Creation in case of Polygon did is an encapsulation of two steps, first where a user needs to generate a DID uri for themselves and next register it on Polygon ledger."),(0,a.kt)("h3",{id:"create-did"},"Create DID"),(0,a.kt)("p",null,"In your project to create a polygon DID URI one first needs to install:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm i @ayanworks/polygon-did-registrar --save\n")),(0,a.kt)("p",null,"Once the installation is completed, the user can use it as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'import { createDID } from "@ayanworks/polygon-did-registrar";\n')),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"createdDID")," function helps user generate a DID URI. While creating a DID, there can be two scenarios."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"The user already owns a wallet and wishes to generate a DID correponding to the same wallet."),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"const {address, publicKey58, privateKey, DID} = await createDID(network, privateKey);\n"))),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"If the user does not have an existing wallet and wants to generate one, the user can use:"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre"},"const {address, publicKey58, privateKey, DID} = await createDID(network);\n")))),(0,a.kt)("p",null,"The network parameter in both cases refers to whether the user wants to create the DID on Polygon Mumbai Testnet or Polygon Mainnet."),(0,a.kt)("p",null,"Sample Input:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'network :"testnet | mainnet"\nprivateKey? : "0x....."\n')),(0,a.kt)("p",null,"After creating DID, you will have a DID URI generated."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"DID mainnet: did:polygon:0x...\nDID testnet: did:polygon:testnet:0x...\n")),(0,a.kt)("h3",{id:"register-did"},"Register DID"),(0,a.kt)("p",null,"To register the DID URI and the corresponding DID document on ledger, the user first needs to use ",(0,a.kt)("inlineCode",{parentName:"p"},"polygon-did-registrar")," as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { registerDID } from "@ayanworks/polygon-did-registrar";\n')),(0,a.kt)("p",null,"As a prerequisite to registering DID, the user needs to make sure that the wallet corrsponding to the DID has the necessary tokens balance available. Once the user has a token balance in the wallet, a call can be made to the registerDID functionality as shown below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const txHash = await registerDID(did, privateKey, url?, contractAddress?);\n")),(0,a.kt)("p",null,"Parameters ",(0,a.kt)("inlineCode",{parentName:"p"},"did")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"privateKey")," are mandatory, while it is optional to enter the ",(0,a.kt)("inlineCode",{parentName:"p"},"url")," and the ",(0,a.kt)("inlineCode",{parentName:"p"},"contractAddress"),". If the user does not give the last two parameters, the library picks up the default configurations of the network from the DID URI."),(0,a.kt)("p",null,"If all the parameters match the specifications and everything is given in correct order, the ",(0,a.kt)("inlineCode",{parentName:"p"},"registerDID")," function returns a transaction hash, a corresponding error is returned otherwise."),(0,a.kt)("p",null,"And with this, you have successfully completed your task of registering a DID on the Polygon Network."),(0,a.kt)("h2",{id:"resolve-did"},"Resolve DID"),(0,a.kt)("p",null,"To start, install the following libraries:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @ayanworks/polygon-did-resolver --save\nnpm i did-resolver --save\n")),(0,a.kt)("p",null,"To read a DID document registered on ledger, any user with a DID polygon URI can first in their project import,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"import * as didResolvers from \"did-resolver\";\nimport * as didPolygon from '@ayanworks/polygon-did-resolver';\n")),(0,a.kt)("p",null,"After importing the packages, the DID document can be retrieved by using:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const myResolver = didPolygon.getResolver()\nconst resolver = new DIDResolver(myResolver)\n\nconst didResolutionResult = this.resolver.resolve(did)\n")),(0,a.kt)("p",null,"where the ",(0,a.kt)("inlineCode",{parentName:"p"},"didResolutionResult")," object is as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"didResolutionResult:\n{\n    didDocument,\n    didDocumentMetadata,\n    didResolutionMetadata\n}\n")),(0,a.kt)("p",null,"It should be noted that, no gas cost will be entailed by the user while trying to resolve a DID."),(0,a.kt)("h2",{id:"update-did-document"},"Update DID Document"),(0,a.kt)("p",null,"To encapsulate the project with the ability to update the DID document, the user first needs to use ",(0,a.kt)("inlineCode",{parentName:"p"},"polygon-did-registrar")," as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { updateDidDoc } from "@ayanworks/polygon-did-registrar";\n')),(0,a.kt)("p",null,"Next, call the function:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const txHash = await updateDidDoc(did, didDoc, privateKey, url?, contractAddress?);\n")),(0,a.kt)("p",null,"It should be noted that to update the DID document, only the owner of DID can send the request. The private key here should also hold some corresponding MATIC tokens."),(0,a.kt)("p",null,"If the user does not provide the configuration with ",(0,a.kt)("inlineCode",{parentName:"p"},"url")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"contractAddress"),", the library picks up the default configurations of the network from the DID URI."),(0,a.kt)("h2",{id:"delete-did-document"},"Delete DID Document"),(0,a.kt)("p",null,"With Polygon DID implementation a user can also revoke his DID Document from the ledger. The user first needs to use ",(0,a.kt)("inlineCode",{parentName:"p"},"polygon-did-registrar")," as follows:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import { deleteDidDoc } from "@ayanworks/polygon-did-registrar";\n')),(0,a.kt)("p",null,"Then use,"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const txHash = await deleteDidDoc(did, privateKey, url?, contractAddress?);\n")),(0,a.kt)("p",null,"Amongst the parameters it is notable that, ",(0,a.kt)("inlineCode",{parentName:"p"},"url")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"contractAddress")," are optional parameters, which if not provided by the user, a default configuration will be picked up by the function based on the DID URI."),(0,a.kt)("p",null,"It is important for the private key to hold the necessary Matic tokens, as per the network configuration of DID, or the transaction would fail."),(0,a.kt)("h2",{id:"contributing-to-the-repository"},"Contributing to the Repository"),(0,a.kt)("p",null,"Use the standard fork, branch, and pull request workflow to propose changes to the repositories. Please make branch names informative by including the issue or bug number for example."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"https://github.com/ayanworks/polygon-did-registrar\nhttps://github.com/ayanworks/polygon-did-resolver\n")))}m.isMDXComponent=!0}}]);