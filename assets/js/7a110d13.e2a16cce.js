"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[94554],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return m}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,l=a(e,["components","mdxType","originalType","parentName"]),d=c(n),m=o,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,s(s({ref:t},l),{},{components:n})):r.createElement(f,s({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,s=new Array(i);s[0]=d;var a={};for(var p in t)hasOwnProperty.call(t,p)&&(a[p]=t[p]);a.originalType=e,a.mdxType="string"==typeof e?e:o,s[1]=a;for(var c=2;c<i;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},12746:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return u}});var r=n(87462),o=n(63366),i=(n(67294),n(3905)),s=["components"],a={id:"supernets-libp2p",title:"libp2p",sidebar_label:"P2P Networking",description:"The networking layer of Supernets.",keywords:["docs","polygon","edge","stake","unstake","validator","epoch"]},p=void 0,c={unversionedId:"supernets/design/supernets-libp2p",id:"supernets/design/supernets-libp2p",title:"libp2p",description:"The networking layer of Supernets.",source:"@site/docs/supernets/design/libp2p.md",sourceDirName:"supernets/design",slug:"/supernets/design/supernets-libp2p",permalink:"/matic-docs/docs/supernets/design/supernets-libp2p",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/supernets/design/libp2p.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686626387,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"supernets-libp2p",title:"libp2p",sidebar_label:"P2P Networking",description:"The networking layer of Supernets.",keywords:["docs","polygon","edge","stake","unstake","validator","epoch"]},sidebar:"supernets",previous:{title:"ERC-1155",permalink:"/matic-docs/docs/supernets/design/bridge/assets/erc/erc1155"},next:{title:"EVM Runtime",permalink:"/matic-docs/docs/category/evm-runtime"}},l={},u=[{value:"Overview",id:"overview",level:2},{value:"Identity",id:"identity",level:2},{value:"Peer discovery",id:"peer-discovery",level:2},{value:"Peer routing",id:"peer-routing",level:2},{value:"Gossipsub",id:"gossipsub",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,o.Z)(e,s);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This documents provides an overview on how libp2p is used as the networking layer in Supernets."),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"PolyBFT uses a decentralized networking layer based on the libp2p protocol. The protocol provides peer-to-peer networking primitives such as peer discovery, connection management, and secure messaging. The network relies on a secure Identity Service to manage peer connectivity and handshaking, ensuring only valid peers can join the network."),(0,i.kt)("h2",{id:"identity"},"Identity"),(0,i.kt)("p",null,"The Identity Service validates incoming connections and manages peer handshaking. It maintains a list of pending peer connections and uses a networkingServer interface to communicate with the underlying networking layer."),(0,i.kt)("h2",{id:"peer-discovery"},"Peer discovery"),(0,i.kt)("p",null,"PolyBFT uses libp2p's distributed hash table (DHT) based on the Kademlia algorithm for peer discovery. The DHT stores information about other peers in the network, such as their addresses and availability. When a new node joins the network, it uses the DHT to find other peers that are currently online. The process of using the DHT to discover peers and then sending out connection requests is repeated periodically to maintain a sufficient number of connections in the network."),(0,i.kt)("h2",{id:"peer-routing"},"Peer routing"),(0,i.kt)("p",null,"Bootnodes act as rendezvous servers that help new nodes discover and connect to the network. The polygon-edge command allows you to specify one or more bootnodes while creating the genesis file. Bootnodes are defined using libp2p multiaddrs, which contain information about the protocol, network address, and node port number."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"--bootnode /ip4/127.0.0.1/tcp/30301/p2p/16Uiu2HAmJxxH1tScDX2rLGSU9exnuvZKNM9SoK3v315azp68DLPW \\\n--bootnode /ip4/127.0.0.1/tcp/30302/p2p/16Uiu2HAmS9Nq4QAaEiogE4ieJFUYsoH28magT7wSvJPpfUGBj3Hq \\\n")),(0,i.kt)("h2",{id:"gossipsub"},"Gossipsub"),(0,i.kt)("p",null,"Gossipsub is a decentralized, peer-to-peer messaging protocol used in Polygon Supernets to broadcast messages efficiently across the network. It's used in various network components, including the TxPool, where it's used to broadcast new transactions and relay transaction data between nodes. Gossipsub allows for efficient and reliable message propagation while minimizing the bandwidth requirements of the network."),(0,i.kt)("p",null,"To learn more about libp2p networking, check out the ",(0,i.kt)("a",{parentName:"p",href:"https://docs.libp2p.io/"},"official libp2p documentation"),"."))}m.isMDXComponent=!0}}]);