"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[25531],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=o.createContext({}),l=function(e){var t=o.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=l(e.components);return o.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),h=l(n),m=a,p=h["".concat(d,".").concat(m)]||h[m]||c[m]||i;return n?o.createElement(p,r(r({ref:t},u),{},{components:n})):o.createElement(p,r({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=h;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,r[1]=s;for(var l=2;l<i;l++)r[l]=n[l];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},29794:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return d},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c}});var o=n(87462),a=n(63366),i=(n(67294),n(3905)),r=["components"],s={id:"validators",title:"Validators FAQ",description:"FAQ for Polygon Edge validators",keywords:["docs","polygon","edge","FAQ","validators"]},d=void 0,l={unversionedId:"main-edge/faq/validators",id:"main-edge/faq/validators",title:"Validators FAQ",description:"FAQ for Polygon Edge validators",source:"@site/docs/main-edge/faq/Validators.md",sourceDirName:"main-edge/faq",slug:"/main-edge/faq/validators",permalink:"/matic-docs/docs/main-edge/faq/validators",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/main-edge/faq/Validators.md",tags:[],version:"current",lastUpdatedBy:"Kennedy Batista",lastUpdatedAt:1686621530,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"validators",title:"Validators FAQ",description:"FAQ for Polygon Edge validators",keywords:["docs","polygon","edge","FAQ","validators"]}},u={},c=[{value:"How to add/remove a validator?",id:"how-to-addremove-a-validator",level:2},{value:"PoA",id:"poa",level:3},{value:"PoS",id:"pos",level:3},{value:"How much disk space is recommended for a validator?",id:"how-much-disk-space-is-recommended-for-a-validator",level:2},{value:"Is there a limit to the number of validators?",id:"is-there-a-limit-to-the-number-of-validators",level:2},{value:"How to switch from PoA to PoS?",id:"how-to-switch-from-poa-to-pos",level:2},{value:"How do I update my nodes when there&#39;s a breaking change?",id:"how-do-i-update-my-nodes-when-theres-a-breaking-change",level:2},{value:"Is the minimum staking amount configurable for PoS Edge?",id:"is-the-minimum-staking-amount-configurable-for-pos-edge",level:2},{value:"Why do the JSON RPC commands <code>eth_getBlockByNumber</code> and <code>eth_getBlockByHash</code> not return the miner&#39;s address?",id:"why-do-the-json-rpc-commands-eth_getblockbynumber-and-eth_getblockbyhash-not-return-the-miners-address",level:2},{value:"Which parts and values of Genesis can safely be modified?",id:"which-parts-and-values-of-genesis-can-safely-be-modified",level:2}],h={toc:c};function m(e){var t=e.components,n=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"how-to-addremove-a-validator"},"How to add/remove a validator?"),(0,i.kt)("h3",{id:"poa"},"PoA"),(0,i.kt)("p",null,"Adding/removing validators is done by voting. You can find ",(0,i.kt)("a",{parentName:"p",href:"/docs/edge/consensus/poa"},"here")," a full guide about this."),(0,i.kt)("h3",{id:"pos"},"PoS"),(0,i.kt)("p",null,"You can find a guide on how to stake funds ",(0,i.kt)("a",{parentName:"p",href:"/docs/edge/consensus/pos-stake-unstake"},"here"),", so that a node can become a validator, and how to unstake (remove the validator)."),(0,i.kt)("p",null,"Please note that:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"You can use the genesis flag ",(0,i.kt)("inlineCode",{parentName:"li"},"--max-validator-count")," to set a maximum number of stakers that can join the validator set."),(0,i.kt)("li",{parentName:"ul"},"You can use the genesis flag ",(0,i.kt)("inlineCode",{parentName:"li"},"--min-validator-count ")," to set the minimum number of stakers needed to join the validator set(",(0,i.kt)("inlineCode",{parentName:"li"},"1")," by default)."),(0,i.kt)("li",{parentName:"ul"},"When the maximum validator number is met, you cannot add another validator until you remove an existing one from the set (doesn't matter if the staked amount of the new one is higher). If you remove a validator, the number of validators remaining cannot be lower than ",(0,i.kt)("inlineCode",{parentName:"li"},"--min-validator-count"),"."),(0,i.kt)("li",{parentName:"ul"},"There is a default threshold of ",(0,i.kt)("inlineCode",{parentName:"li"},"1"),"  unit of native network(gas) currency for becoming a validator.")),(0,i.kt)("h2",{id:"how-much-disk-space-is-recommended-for-a-validator"},"How much disk space is recommended for a validator?"),(0,i.kt)("p",null,"We recommend starting with 100G as a conservatively estimated runway, and making sure that it is possible to scale the disk afterwards."),(0,i.kt)("h2",{id:"is-there-a-limit-to-the-number-of-validators"},"Is there a limit to the number of validators?"),(0,i.kt)("p",null,"If we are talking about technical limitations, Polygon Edge doesn't explicitly have the cap on the number of nodes you can have in a network. You can set connection caps (inbound / outbound connection counts) on a per-node basis."),(0,i.kt)("p",null,"If we are talking about practical limitations, you're going to see a more degraded performance with a 100 node cluster than with a 10 node cluster. By increasing the number of nodes in your cluster, you increase the communication complexity and just the networking overhead in general. It all depends on what kind of network you are running, and what kind of network topology you have."),(0,i.kt)("h2",{id:"how-to-switch-from-poa-to-pos"},"How to switch from PoA to PoS?"),(0,i.kt)("p",null,"PoA is the default consensus mechanism. For a new cluster, to switch to PoS, you will need to add the ",(0,i.kt)("inlineCode",{parentName:"p"},"--pos")," flag when generating the genesis file. If you have a running cluster, you can find ",(0,i.kt)("a",{parentName:"p",href:"/docs/edge/consensus/migration-to-pos"},"here")," how to make the switch. All the info you need about our consensus mechanisms and setup can be found on our ",(0,i.kt)("a",{parentName:"p",href:"/docs/edge/consensus/poa"},"consensus section"),"."),(0,i.kt)("h2",{id:"how-do-i-update-my-nodes-when-theres-a-breaking-change"},"How do I update my nodes when there's a breaking change?"),(0,i.kt)("p",null,"You can find a detailed guide on how to do this procedure ",(0,i.kt)("a",{parentName:"p",href:"/docs/edge/validator-hosting#update"},"here"),"."),(0,i.kt)("h2",{id:"is-the-minimum-staking-amount-configurable-for-pos-edge"},"Is the minimum staking amount configurable for PoS Edge?"),(0,i.kt)("p",null,"The minimum staking amount by default is ",(0,i.kt)("inlineCode",{parentName:"p"},"1 ETH"),", and it\u2019s not configurable. "),(0,i.kt)("h2",{id:"why-do-the-json-rpc-commands-eth_getblockbynumber-and-eth_getblockbyhash-not-return-the-miners-address"},"Why do the JSON RPC commands ",(0,i.kt)("inlineCode",{parentName:"h2"},"eth_getBlockByNumber")," and ",(0,i.kt)("inlineCode",{parentName:"h2"},"eth_getBlockByHash")," not return the miner's address?"),(0,i.kt)("p",null,"The consensus used currently in Polygon Edge is IBFT 2.0, which, in turn, builds upon the voting mechanism explained in Clique PoA: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ethereum/EIPs/issues/225"},"ethereum/EIPs#225"),"."),(0,i.kt)("p",null,"Looking at the EIP-225 (Clique PoA), this is the relevant part that explains what the ",(0,i.kt)("inlineCode",{parentName:"p"},"miner")," (aka ",(0,i.kt)("inlineCode",{parentName:"p"},"beneficiary"),") is used for:"),(0,i.kt)("blockquote",null,"We repurpose the ethash header fields as follows:",(0,i.kt)("ul",null,(0,i.kt)("li",null,(0,i.kt)("b",null,"beneficiary / miner: ")," Address to propose modifying the list of authorized signers with."),(0,i.kt)("ul",null,(0,i.kt)("li",null,"Should be filled with zeroes normally, modified only while voting."),(0,i.kt)("li",null,"Arbitrary values are permitted nonetheless (even meaningless ones such as voting out non signers) to avoid extra complexity in implementations around voting mechanics."),(0,i.kt)("li",null," Must be filled with zeroes on checkpoint (i.e. epoch transition) blocks. ")))),(0,i.kt)("p",null,"Thus, the ",(0,i.kt)("inlineCode",{parentName:"p"},"miner")," field is used for proposing a vote for a certain address, not to show the proposer of the block."),(0,i.kt)("p",null,"The information about the proposer of the block can be found by recovering the pubkey from the Seal field of the RLP encoded Istanbul extra data field in the block headers."),(0,i.kt)("h2",{id:"which-parts-and-values-of-genesis-can-safely-be-modified"},"Which parts and values of Genesis can safely be modified?"),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Please make sure to create a manual copy of the existing genesis.json file before attempting to edit it.\nAlso, the entire chain has to be stopped before editing the genesis.json file. Once the genesis file is modified, the newer version of it has to distributed across all non-validator and valdiator nodes.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Only the bootnodes section of the genesis file can safely be modified"),", where you can add or remove bootnodes from the list."))}m.isMDXComponent=!0}}]);