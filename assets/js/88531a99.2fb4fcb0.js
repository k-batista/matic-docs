"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[73773],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var d=r.createContext({}),l=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(n),h=a,m=u["".concat(d,".").concat(h)]||u[h]||p[h]||i;return n?r.createElement(m,o(o({ref:t},c),{},{components:n})):r.createElement(m,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},77081:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],s={id:"childerc20-predicate",title:"ChildERC20 Predicate",sidebar_label:"ChildERC20 Predicate",description:"Learn about the access control module and how to allowlist validators.",keywords:["docs","polygon","edge","consensus","interface"]},d=void 0,l={unversionedId:"supernets/interfaces/erc20/childerc20-predicate",id:"supernets/interfaces/erc20/childerc20-predicate",title:"ChildERC20 Predicate",description:"Learn about the access control module and how to allowlist validators.",source:"@site/docs/supernets/interfaces/erc20/childerc20-predicate.md",sourceDirName:"supernets/interfaces/erc20",slug:"/supernets/interfaces/erc20/childerc20-predicate",permalink:"/matic-docs/docs/supernets/interfaces/erc20/childerc20-predicate",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/supernets/interfaces/erc20/childerc20-predicate.md",tags:[],version:"current",lastUpdatedBy:"Kennedy Batista",lastUpdatedAt:1686621530,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"childerc20-predicate",title:"ChildERC20 Predicate",sidebar_label:"ChildERC20 Predicate",description:"Learn about the access control module and how to allowlist validators.",keywords:["docs","polygon","edge","consensus","interface"]},sidebar:"supernets",previous:{title:"ChildERC20",permalink:"/matic-docs/docs/supernets/interfaces/erc20/childerc20"},next:{title:"RootERC20 Predicate",permalink:"/matic-docs/docs/supernets/interfaces/erc20/rooterc20-predicate"}},c={},p=[{value:"Overview",id:"overview",level:2},{value:"Initialize",id:"initialize",level:2},{value:"Deploy a new child token",id:"deploy-a-new-child-token",level:2},{value:"Process state updates",id:"process-state-updates",level:2},{value:"Withdraw tokens",id:"withdraw-tokens",level:2},{value:"Withdraw tokens to a specific address",id:"withdraw-tokens-to-a-specific-address",level:2}],u={toc:p};function h(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IChildERC20Predicate")," interface is part of the cross-chain bridge system, which manages the child tokens on the L2 side. This guide will explain the methods provided by the IChildERC20Predicate interface and how to use them."),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"IChildERC20Predicate")," interface is responsible for managing child tokens on L2. It provides:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Methods for deploying new child tokens."),(0,i.kt)("li",{parentName:"ul"},"Processing state updates received from L1."),(0,i.kt)("li",{parentName:"ul"},"Withdrawing tokens back to L1.")),(0,i.kt)("h2",{id:"initialize"},"Initialize"),(0,i.kt)("p",null,"Before using the IChildERC20Predicate contract, it must be initialized with the required parameters:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function initialize(\n    address newL2StateSender,\n    address newStateReceiver,\n    address newRootERC20Predicate,\n    address newChildTokenTemplate,\n    address newNativeTokenRootAddress,\n    string calldata newNativeTokenName,\n    string calldata newNativeTokenSymbol,\n    uint8 newNativeTokenDecimals\n) external;\n")),(0,i.kt)("p",null,"The parameters for initialization include the addresses of the L2 state sender, the state receiver, the root ERC20 predicate, and the child token template. The initialization also requires the native token's root address, name, symbol, and decimals."),(0,i.kt)("h2",{id:"deploy-a-new-child-token"},"Deploy a new child token"),(0,i.kt)("p",null,"To create a new child token on the L2 side, call the deployChildToken method:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function deployChildToken(\n    address rootToken,\n    bytes32 salt,\n    string calldata name,\n    string calldata symbol,\n    uint8 decimals\n) external;\n")),(0,i.kt)("p",null,"The parameters for deploying a new child token include the address of the corresponding root token on L1, a unique salt value, and the token's name, symbol, and decimals."),(0,i.kt)("h2",{id:"process-state-updates"},"Process state updates"),(0,i.kt)("p",null,"The onStateReceive method receives state updates from the L1 side and processes the data accordingly:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function onStateReceive(uint256 /* id */, address sender, bytes calldata data) external;\n")),(0,i.kt)("p",null,"When a state update is received, the method processes the data based on the sender's address and provided data. The system typically calls this method automatically when state updates are received from L1."),(0,i.kt)("h2",{id:"withdraw-tokens"},"Withdraw tokens"),(0,i.kt)("p",null,"To withdraw tokens from L2 back to L1, call the withdraw method:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function withdraw(IChildERC20 childToken, uint256 amount) external;\n")),(0,i.kt)("p",null,"This method takes the child token contract address and the amount to be withdrawn. The tokens will be withdrawn to the message sender's address on L1."),(0,i.kt)("h2",{id:"withdraw-tokens-to-a-specific-address"},"Withdraw tokens to a specific address"),(0,i.kt)("p",null,"If you want to withdraw tokens from L2 to L1 for a specific address, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"withdrawTo")," method:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"function withdrawTo(IChildERC20 childToken, address receiver, uint256 amount) external;\n")),(0,i.kt)("p",null,"This method takes the child token contract address, the receiver's address, and the amount to be withdrawn. The tokens will be withdrawn to the specified receiver's address on L1."))}h.isMDXComponent=!0}}]);