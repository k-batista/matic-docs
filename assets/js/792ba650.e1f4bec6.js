"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[82974],{3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return d}});var a=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=a.createContext({}),u=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):r(r({},e),t)),n},c=function(t){var e=u(t.components);return a.createElement(l.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},h=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,i=t.originalType,l=t.parentName,c=s(t,["components","mdxType","originalType","parentName"]),h=u(n),d=o,m=h["".concat(l,".").concat(d)]||h[d]||p[d]||i;return n?a.createElement(m,r(r({ref:e},c),{},{components:n})):a.createElement(m,r({ref:e},c))}));function d(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var i=n.length,r=new Array(i);r[0]=h;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s.mdxType="string"==typeof t?t:o,r[1]=s;for(var u=2;u<i;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},67138:function(t,e,n){n.r(e),n.d(e,{assets:function(){return c},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var a=n(87462),o=n(63366),i=(n(67294),n(3905)),r=["components"],s={id:"slashauth",title:"SlashAuth",description:"SlashAuth provides authentication and authorization for dApps.",keywords:["wiki","polygon","slashauth","authentication","dapp","integrate"],image:"https://wiki.polygon.technology/img/polygon-logo.png"},l=void 0,u={unversionedId:"develop/wallets/slashauth",id:"develop/wallets/slashauth",title:"SlashAuth",description:"SlashAuth provides authentication and authorization for dApps.",source:"@site/docs/develop/wallets/slashauth.md",sourceDirName:"develop/wallets",slug:"/develop/wallets/slashauth",permalink:"/matic-docs/docs/develop/wallets/slashauth",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/develop/wallets/slashauth.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686626387,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"slashauth",title:"SlashAuth",description:"SlashAuth provides authentication and authorization for dApps.",keywords:["wiki","polygon","slashauth","authentication","dapp","integrate"],image:"https://wiki.polygon.technology/img/polygon-logo.png"},sidebar:"develop",previous:{title:"WalletConnect",permalink:"/matic-docs/docs/develop/wallets/walletconnect"},next:{title:"Plaid Wallet Onboard",permalink:"/matic-docs/docs/develop/wallets/plaid-wallet-onboard"}},c={},p=[{value:"Create SlashAuth app",id:"create-slashauth-app",level:2},{value:"Install the React SDK",id:"install-the-react-sdk",level:2},{value:"Configure the <code>SlashAuthProvider</code> component",id:"configure-the-slashauthprovider-component",level:2},{value:"Add Login with Wallet",id:"add-login-with-wallet",level:2},{value:"Authentication information",id:"authentication-information",level:2},{value:"Logout button",id:"logout-button",level:2},{value:"Tying it all together",id:"tying-it-all-together",level:2}],h={toc:p};function d(t){var e=t.components,n=(0,o.Z)(t,r);return(0,i.kt)("wrapper",(0,a.Z)({},h,n,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("admonition",{title:"Content disclaimer",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Please view the third-party content disclaimer ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/maticnetwork/matic-docs/blob/master/CONTENT_DISCLAIMER.md"},(0,i.kt)("ins",null,"here")),".")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"SlashAuth")," allows developers to quickly authenticate users with their wallets and create ",(0,i.kt)("strong",{parentName:"p"},"role-based access control based on the on-chain data"),". A developer can use SlashAuth to securely log a user in and verify that they have the necessary tokens (ERC20, ERC721, ERC1155) to gain access to the website."),(0,i.kt)("p",null,"SlashAuth works with existing wallets such as Metamask, Coinbase Wallet, and WalletConnect. It also supports tokens on Ethereum and Polygon with more networks coming soon."),(0,i.kt)("p",null,"For more documentation, please check out their official ",(0,i.kt)("a",{parentName:"p",href:"https://docs.slashauth.com/docs"},"documentation"),"."),(0,i.kt)("h2",{id:"create-slashauth-app"},"Create SlashAuth app"),(0,i.kt)("p",null,"Navigate to the ",(0,i.kt)("a",{parentName:"p",href:"https://app.slashauth.com"},"SlashAuth Dashboard")," and create a new app. Take note of the ClientID and Client Secret as we will use them below."),(0,i.kt)("h2",{id:"install-the-react-sdk"},"Install the React SDK"),(0,i.kt)("p",null,"Install the Javascript Library via NPM:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @slashauth/slashauth-react\n")),(0,i.kt)("h2",{id:"configure-the-slashauthprovider-component"},"Configure the ",(0,i.kt)("inlineCode",{parentName:"h2"},"SlashAuthProvider")," component"),(0,i.kt)("p",null,"The SlashAuth SDK uses ",(0,i.kt)("a",{parentName:"p",href:"https://reactjs.org/docs/context.html"},"React Context")," to manage state and expose it to components. In order to integrate ",(0,i.kt)("inlineCode",{parentName:"p"},"/auth")," into your app, you must provide the context at the root of your app:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="index.tsx"',title:'"index.tsx"'},"import ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport { SlashAuthProvider } from '@slashauth/slashauth-react';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(\n  <SlashAuthProvider\n    clientID={/* YOUR CLIENT ID */}\n  >\n    <App />\n  </SlashAuthProvider>\n);\n")),(0,i.kt)("h2",{id:"add-login-with-wallet"},"Add Login with Wallet"),(0,i.kt)("p",null,"The SlashAuth SDK gives you tools to quickly implement authentication via MetaMask wallet in your React application. The simplest implementation is to log the user in directly in their browser. We use the function ",(0,i.kt)("inlineCode",{parentName:"p"},"loginNoRedirectNoPopup()")," from the ",(0,i.kt)("inlineCode",{parentName:"p"},"useSlashAuth()")," hook to accomplish this."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="LoginButton.tsx"',title:'"LoginButton.tsx"'},'import { useSlashAuth } from "@slashauth/slashauth-react";\n\nexport const LoginButton = () => {\n  const { loginNoRedirectNoPopup } = useSlashAuth();\n\n  return <button className="login-button" onClick={() => loginNoRedirectNoPopup()}>Login With Wallet</button>;\n};\n')),(0,i.kt)("h2",{id:"authentication-information"},"Authentication information"),(0,i.kt)("p",null,"The SlashAuth SDK exposes information about the current user and their logged in status via data returned by the ",(0,i.kt)("inlineCode",{parentName:"p"},"useSlashAuth()")," hook. Because this data propagates via React Context, any time it changes components will be notified and rerender. Let's create a status component."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="LoginStatus.tsx"',title:'"LoginStatus.tsx"'},"import { useSlashAuth } from \"@slashauth/slashauth-react\";\nimport { useEffect, useState } from \"react\";\n\nexport const LoginStatus = () => {\n  const [accessToken, setAccessToken] = useState('');\n\n  const {\n    connectedWallet,\n    isAuthenticated,\n    isLoading,\n    getAccessTokenSilently,\n  } = useSlashAuth();\n\n  // A way to instantly detect when the access token changes so we\n  // can store it in state to display to the screen.\n  useEffect(() => {\n    if (isAuthenticated) {\n      getAccessTokenSilently().then((at: string) => {\n        setAccessToken(at);\n      });\n    } else {\n      setAccessToken('');\n    }\n  }, [getAccessTokenSilently, isAuthenticated]);\n\n  if (isLoading) {\n    return (\n      <div>\n        <span>'Loading...'</span>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div style={{display: 'block'}}>\n        <div>Is Wallet Connected? {connectedWallet ? 'Yes' : 'No'}</div>\n        {connectedWallet && <div >Wallet address: {connectedWallet}</div>}\n        <div>Is Logged In? {isAuthenticated ? 'Yes' : 'No'}</div>\n        {isAuthenticated && <div style={{cursor: 'pointer', color: 'blue', textDecoration: 'underline'}} onClick={() => {navigator.clipboard.writeText(accessToken)}}>Click to copy access token</div>}\n      </div>\n    </div>\n  );\n}\n")),(0,i.kt)("h2",{id:"logout-button"},"Logout button"),(0,i.kt)("p",null,"The SlashAuth SDK exposes a logout functionality that disconnects the user locally and invalidates their tokens remotely. Let's build a button to add this functionality."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="LogoutButton.tsx"',title:'"LogoutButton.tsx"'},'import { useSlashAuth } from "@slashauth/slashauth-react";\n\nexport const LogoutButton = () => {\n  const { logout } = useSlashAuth();\n\n  return <button onClick={() => logout()}>Logout</button>;\n};\n')),(0,i.kt)("h2",{id:"tying-it-all-together"},"Tying it all together"),(0,i.kt)("p",null,"A simple way to see this all work together is updating your application entry point to display this information."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"import { useSlashAuth } from '@slashauth/slashauth-react';\nimport { LoginStatus } from './LoginStatus';\nimport { LoginButton } from './LoginButton';\nimport { LogoutButton } from './LogoutButton';\n\n\nfunction App() {\n  const { isAuthenticated } = useSlashAuth();\n\n  return (\n    <div>\n      {isAuthenticated ? <LogoutButton /> : <LoginButton />}\n      <LoginStatus />\n    </div>\n  );\n}\n\nexport default App;\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Congratulations! You're successfully integrated SlashAuth in your dApp.")),(0,i.kt)("p",null,"You can find the full example of this code in our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/slashauth/slashauth-react-quickstart-example"},"GitHub repo"),"."))}d.isMDXComponent=!0}}]);