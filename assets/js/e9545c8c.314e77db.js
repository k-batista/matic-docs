"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[23522],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return u}});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,o=e.originalType,d=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=s(a),u=l,h=m["".concat(d,".").concat(u)]||m[u]||c[u]||o;return a?n.createElement(h,r(r({ref:t},p),{},{components:a})):n.createElement(h,r({ref:t},p))}));function u(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=a.length,r=new Array(o);r[0]=m;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:l,r[1]=i;for(var s=2;s<o;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},79777:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return d},default:function(){return u},frontMatter:function(){return i},metadata:function(){return s},toc:function(){return c}});var n=a(87462),l=a(63366),o=(a(67294),a(3905)),r=(a(44996),["components"]),i={id:"run-validator-ansible",title:"Run Validator Node with Ansible",sidebar_label:"Using Ansible",description:"Use Ansible to set up your validator node on Polygon",keywords:["docs","matic","polygon","ansible","node","validator","sentry"],slug:"run-validator-ansible",image:"https://wiki.polygon.technology/img/polygon-logo.png"},d=void 0,s={unversionedId:"maintain/validate/run-validator-ansible",id:"maintain/validate/run-validator-ansible",title:"Run Validator Node with Ansible",description:"Use Ansible to set up your validator node on Polygon",source:"@site/docs/maintain/validate/run-validator-ansible.md",sourceDirName:"maintain/validate",slug:"/maintain/validate/run-validator-ansible",permalink:"/matic-docs/docs/maintain/validate/run-validator-ansible",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/maintain/validate/run-validator-ansible.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686625626,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"run-validator-ansible",title:"Run Validator Node with Ansible",sidebar_label:"Using Ansible",description:"Use Ansible to set up your validator node on Polygon",keywords:["docs","matic","polygon","ansible","node","validator","sentry"],slug:"run-validator-ansible",image:"https://wiki.polygon.technology/img/polygon-logo.png"},sidebar:"maintain",previous:{title:"Using Binaries",permalink:"/matic-docs/docs/maintain/validate/run-validator-binaries"},next:{title:"Using Packages",permalink:"/matic-docs/docs/maintain/validate/run-validator"}},p={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Overview",id:"overview",level:2},{value:"Set up the Sentry node",id:"set-up-the-sentry-node",level:2},{value:"Set up the Validator node",id:"set-up-the-validator-node",level:2},{value:"Configure the Sentry node",id:"configure-the-sentry-node",level:2},{value:"Configure the Heimdall Service",id:"configure-the-heimdall-service",level:3},{value:"Configure the Bor Service",id:"configure-the-bor-service",level:3},{value:"Configure firewall",id:"configure-firewall",level:3},{value:"Start the sentry node",id:"start-the-sentry-node",level:2},{value:"Start the Heimdall service",id:"start-the-heimdall-service",level:3},{value:"Start the Bor Service",id:"start-the-bor-service",level:3},{value:"Configure the validator node",id:"configure-the-validator-node",level:2},{value:"Configure the Heimdall Service",id:"configure-the-heimdall-service-1",level:3},{value:"Configure the Bor Service",id:"configure-the-bor-service-1",level:3},{value:"Set the owner and signer key",id:"set-the-owner-and-signer-key",level:2},{value:"Generate a Heimdall private key",id:"generate-a-heimdall-private-key",level:3},{value:"Generate a Bor keystore file",id:"generate-a-bor-keystore-file",level:3},{value:"Add <code>password.txt</code>",id:"add-passwordtxt",level:3},{value:"Add your Ethereum address",id:"add-your-ethereum-address",level:3},{value:"Start the Validator node",id:"start-the-validator-node",level:2},{value:"Start the Heimdall Service",id:"start-the-heimdall-service-1",level:3},{value:"Start the Bor Service",id:"start-the-bor-service-1",level:3},{value:"Seed nodes and bootnodes",id:"seed-nodes-and-bootnodes",level:3},{value:"Check node health with the community",id:"check-node-health-with-the-community",level:2},{value:"Proceed to staking",id:"proceed-to-staking",level:2}],m={toc:c};function u(e){var t=e.components,a=(0,l.Z)(e,r);return(0,o.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Snapshots",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Steps in this guide involve waiting for the ",(0,o.kt)("strong",{parentName:"p"},"Heimdall")," and ",(0,o.kt)("strong",{parentName:"p"},"Bor")," services to fully sync.\nThis process takes several days to complete. Alternatively, you can use a maintained snapshot, which will reduce the sync time to a few hours. For detailed instructions, see ",(0,o.kt)("a",{parentName:"p",href:"/docs/operate/snapshot-instructions-heimdall-bor"},(0,o.kt)("ins",null,"Snapshot Instructions for Heimdall and Bor")),"."),(0,o.kt)("p",{parentName:"admonition"},"For snapshot download links, see ",(0,o.kt)("a",{parentName:"p",href:"https://snapshot.polygon.technology/"},(0,o.kt)("ins",null,"Polygon Chains Snapshots")),".")),(0,o.kt)("p",null,"This section guides you through starting and running the validator node through an Ansible playbook."),(0,o.kt)("p",null,"For the system requirements, see ",(0,o.kt)("a",{parentName:"p",href:"/matic-docs/docs/maintain/validate/validator-node-system-requirements"},"Validator Node System Requirements"),"."),(0,o.kt)("p",null,"If you would like to start and run the validator node from binaries, see ",(0,o.kt)("a",{parentName:"p",href:"/matic-docs/docs/maintain/validate/run-validator-binaries"},"Run a Validator Node from Binaries"),"."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"There is limited space for accepting new validators. New validators can only join the active set when an already active validator unbonds.")),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Three machines \u2014 one local machine on which you will run the Ansible playbook; two remote machines \u2014 one ",(0,o.kt)("a",{parentName:"li",href:"/matic-docs/docs/maintain/glossary#sentry"},"sentry")," and one ",(0,o.kt)("a",{parentName:"li",href:"/matic-docs/docs/maintain/glossary#validator"},"validator"),"."),(0,o.kt)("li",{parentName:"ul"},"On the local machine, ",(0,o.kt)("a",{parentName:"li",href:"https://www.ansible.com/"},"Ansible")," installed."),(0,o.kt)("li",{parentName:"ul"},"On the local machine, ",(0,o.kt)("a",{parentName:"li",href:"https://www.python.org/downloads/"},"Python 3.x")," installed."),(0,o.kt)("li",{parentName:"ul"},"On the remote machines, make sure Go is ",(0,o.kt)("em",{parentName:"li"},"not")," installed."),(0,o.kt)("li",{parentName:"ul"},"On the remote machines, your local machine's SSH public key is on the remote machines to let Ansible connect to them."),(0,o.kt)("li",{parentName:"ul"},"We have Bloxroute available as a relay network. If you need a gateway to be added as your Trusted Peer please contact ",(0,o.kt)("strong",{parentName:"li"},"@validator-support-team")," in ",(0,o.kt)("a",{parentName:"li",href:"https://discord.com/invite/0xPolygon"},"Polygon Discord")," > POS VALIDATORS | FULL NODE PROVIDERS | PARTNERS > bloxroute.")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Please follow the steps on ",(0,o.kt)("a",{parentName:"p",href:"/matic-docs/docs/maintain/validate/bloxroute"},(0,o.kt)("ins",null,"bloXroute instructions"))," to connect your nodes to the bloXroute gateways.")),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"You must follow the ",(0,o.kt)("strong",{parentName:"p"},"exact outlined sequence of actions"),", otherwise you will run into issues.\nFor example, ",(0,o.kt)("strong",{parentName:"p"},"a sentry node must always be set up before the validator node"),".")),(0,o.kt)("p",null,"To get to a running validator node, do the following:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Have the three machines prepared."),(0,o.kt)("li",{parentName:"ol"},"Set up a sentry node through Ansible."),(0,o.kt)("li",{parentName:"ol"},"Set up a validator node through Ansible."),(0,o.kt)("li",{parentName:"ol"},"Configure the sentry node."),(0,o.kt)("li",{parentName:"ol"},"Start the sentry node."),(0,o.kt)("li",{parentName:"ol"},"Configure the validator node."),(0,o.kt)("li",{parentName:"ol"},"Set the owner and signer keys."),(0,o.kt)("li",{parentName:"ol"},"Start the validator node."),(0,o.kt)("li",{parentName:"ol"},"Check node health with the community.")),(0,o.kt)("h2",{id:"set-up-the-sentry-node"},"Set up the Sentry node"),(0,o.kt)("p",null,"On your local machine, clone the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/maticnetwork/node-ansible"},"node-ansible repository"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/maticnetwork/node-ansible\n")),(0,o.kt)("p",null,"Change to the cloned repository:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"cd node-ansible\n")),(0,o.kt)("p",null,"Add the IP addresses of the remote machines that will become a sentry node and a validator node to the ",(0,o.kt)("inlineCode",{parentName:"p"},"inventory.yml")," file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"all:\n  hosts:\n  children:\n    sentry:\n      hosts:\n        xxx.xxx.xx.xx: # <----- Add IP for sentry node\n        xxx.xxx.xx.xx: # <----- Add IP for second sentry node (optional)\n    validator:\n      hosts:\n        xxx.xxx.xx.xx: # <----- Add IP for validator node\n")),(0,o.kt)("p",null,"Example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"all:\n  hosts:\n  children:\n    sentry:\n      hosts:\n        188.166.216.25:\n    validator:\n      hosts:\n        134.209.100.175:\n")),(0,o.kt)("p",null,"Check that the remote sentry machine is reachable. On the local machine, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"$ ansible sentry -m ping\n")),(0,o.kt)("p",null,"You should get this as output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'xxx.xxx.xx.xx | SUCCESS => {\n    "ansible_facts": {\n        "discovered_interpreter_python": "/usr/bin/python3"\n    },\n    "changed": false,\n    "ping": "pong"\n}\n')),(0,o.kt)("p",null,"Do a test run of the sentry node setup:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'ansible-playbook -l sentry playbooks/network.yml --extra-var="bor_version=v0.3.9 heimdall_version=v0.3.3  network_version=mainnet-v1 node_type=sentry/sentry heimdall_network=mainnet" --list-hosts\n')),(0,o.kt)("p",null,"This will be the output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"playbook: playbooks/network.yml\n  pattern: ['all']\n  host (1):\n    xx.xxx.x.xxx\n")),(0,o.kt)("p",null,"Run the sentry node setup with sudo privileges:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'ansible-playbook -l sentry playbooks/network.yml --extra-var="bor_version=v0.3.9 heimdall_version=v0.3.3  network_version=mainnet-v1 node_type=sentry/sentry heimdall_network=mainnet" --ask-become-pass\n')),(0,o.kt)("p",null,"Once the setup is complete, you will see a message of completion on the terminal."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you run into an issue and would like to start over, run:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"ansible-playbook -l sentry playbooks/clean.yml\n"))),(0,o.kt)("h2",{id:"set-up-the-validator-node"},"Set up the Validator node"),(0,o.kt)("p",null,"At this point, you have the sentry node set up."),(0,o.kt)("p",null,"On your local machine, you also have the Ansible playbook set up to run the validator node setup."),(0,o.kt)("p",null,"Check that the remote validator machine is reachable. On the local machine, run ",(0,o.kt)("inlineCode",{parentName:"p"},"ansible validator -m ping"),"."),(0,o.kt)("p",null,"You should get this as output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'xxx.xxx.xx.xx | SUCCESS => {\n    "ansible_facts": {\n        "discovered_interpreter_python": "/usr/bin/python3"\n    },\n    "changed": false,\n    "ping": "pong"\n}\n')),(0,o.kt)("p",null,"Do a test run of the validator node setup:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'ansible-playbook -l validator playbooks/network.yml --extra-var="bor_version=v0.3.9 heimdall_version=v0.3.3 network_version=mainnet-v1 node_type=sentry/validator heimdall_network=mainnet" --list-hosts\n')),(0,o.kt)("p",null,"You should get this as output:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"playbook: playbooks/network.yml\n  pattern: ['all']\n  host (1):\n    xx.xxx.x.xxx\n")),(0,o.kt)("p",null,"Run the validator node setup with sudo privileges:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'ansible-playbook -l validator playbooks/network.yml --extra-var="bor_version=v0.3.9 heimdall_version=v0.3.3  network_version=mainnet-v1 node_type=sentry/validator heimdall_network=mainnet" --ask-become-pass\n')),(0,o.kt)("p",null,"Once the setup is complete, you will see a message of completion on the terminal."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If you run into an issue and would like to start over, run:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"ansible-playbook -l validator playbooks/clean.yml\n"))),(0,o.kt)("h2",{id:"configure-the-sentry-node"},"Configure the Sentry node"),(0,o.kt)("p",null,"Log into the remote sentry machine."),(0,o.kt)("h3",{id:"configure-the-heimdall-service"},"Configure the Heimdall Service"),(0,o.kt)("p",null,"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml")," for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/heimdall/config/config.toml"),"."),(0,o.kt)("p",null,"Change the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"moniker")," \u2014 any name. Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'moniker = "my-full-node"'),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"seeds")," \u2014 the seed node addresses consisting of a node ID, an IP address, and a port."),(0,o.kt)("p",{parentName:"li"},"Should already have the following values:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-toml"},'seeds="d3a8990f61bb3657da1664fe437d4993c4599a7e@3.211.248.31:26656,d3d7d397339c9126235dfab11bf925e269776f4f@3.212.183.151:26656,68254d33685fad151e45bfe1ed33d538ba6ec8cb@3.93.224.197:26656,d26c54ebbf274896f12977bb13d83ac1237a8226@184.73.124.158:26656,f4f605d60b8ffaaf15240564e58a81103510631c@159.203.9.164:26656,4fb1bc820088764a564d4f66bba1963d47d82329@44.232.55.71:26656,2eadba4be3ce47ac8db0a3538cb923b57b41c927@35.199.4.13:26656,25f5f65a09c56e9f1d2d90618aa70cd358aa68da@35.230.116.151:26656,3b23b20017a6f348d329c102ddc0088f0a10a444@35.221.13.28:26656"\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"pex")," \u2014 set the value to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," to enable the peer exchange. Example: ",(0,o.kt)("inlineCode",{parentName:"p"},"pex = true"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"private_peer_ids")," \u2014 the node ID of Heimdall set up on the validator machine."),(0,o.kt)("p",{parentName:"li"},"To get the node ID of Heimdall on the validator machine:"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Log into the validator machine."),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"heimdalld tendermint show-node-id"),".")),(0,o.kt)("p",{parentName:"li"},"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'private_peer_ids = "0ee1de0515f577700a6a4b6ad882eff1eb15f066"'),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"prometheus")," \u2014 set the value to ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," to enable the Prometheus metrics. Example: ",(0,o.kt)("inlineCode",{parentName:"p"},"prometheus = true"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"max_open_connections")," \u2014 set the value to ",(0,o.kt)("inlineCode",{parentName:"p"},"100"),". Example: ",(0,o.kt)("inlineCode",{parentName:"p"},"max_open_connections = 100"),"."))),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),"."),(0,o.kt)("h3",{id:"configure-the-bor-service"},"Configure the Bor Service"),(0,o.kt)("p",null,"Open for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/bor/config.toml"),"."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"config.sh"),", ensure the boot node addresses consisting of a node ID, an IP address, and a port by the bootnode paramater:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-config"},'bootnodes "enode://0cb82b395094ee4a2915e9714894627de9ed8498fb881cec6db7c65e8b9a5bd7f2f25cc84e71e89d0947e51c76e85d0847de848c7782b13c0255247a6758178c@44.232.55.71:30303,enode://88116f4295f5a31538ae409e4d44ad40d22e44ee9342869e7d68bdec55b0f83c1530355ce8b41fbec0928a7d75a5745d528450d30aec92066ab6ba1ee351d710@159.203.9.164:30303,enode://3178257cd1e1ab8f95eeb7cc45e28b6047a0432b2f9412cff1db9bb31426eac30edeb81fedc30b7cd3059f0902b5350f75d1b376d2c632e1b375af0553813e6f@35.221.13.28:30303,enode://16d9a28eadbd247a09ff53b7b1f22231f6deaf10b86d4b23924023aea49bfdd51465b36d79d29be46a5497a96151a1a1ea448f8a8666266284e004306b2afb6e@35.199.4.13:30303,enode://ef271e1c28382daa6ac2d1006dd1924356cfd843dbe88a7397d53396e0741ca1a8da0a113913dee52d9071f0ad8d39e3ce87aa81ebc190776432ee7ddc9d9470@35.230.116.151:30303"\n')),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),"."),(0,o.kt)("p",null,"Open for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/bor/config.toml"),"."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),", ensure the ",(0,o.kt)("inlineCode",{parentName:"p"},"static-nodes")," parameter has the following values:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"enode://validator_machine_enodeID@validator_machine_ip:30303"')," \u2014 the node ID and IP address of Bor set up on the validator machine."),(0,o.kt)("p",{parentName:"li"},"To get the node ID of Bor on the validator machine:"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Log into the validator machine."),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"bor bootnode -node-key /var/lib/bor/data/bor/nodekey"),", this command only works while bor is not running. If the ip address is ",(0,o.kt)("inlineCode",{parentName:"li"},"0.0.0.0")," then replace it with external facing ip address")),(0,o.kt)("p",{parentName:"li"},"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'"enode://410e359736bcd3a58181cf55d54d4e0bbd6db2939c5f548426be7d18b8fd755a0ceb730fe5cf7510c6fa6f0870e388277c5f4c717af66d53c440feedffb29b4b@134.209.100.175:30303"'),"."))),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),"."),(0,o.kt)("h3",{id:"configure-firewall"},"Configure firewall"),(0,o.kt)("p",null,"The sentry machine must have the following ports open to the world ",(0,o.kt)("inlineCode",{parentName:"p"},"0.0.0.0/0"),":"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"26656"),"- Your Heimdall service will connect your node to other nodes using the Heimdall service.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"30303"),"- Your Bor service will connect your node to other nodes using the Bor service.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"22"),"- Open this port if your node is servicing validators. You will likely want to restrict what traffic can access this port as it is a sensitive port."))),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"However, if they use a VPN connection, they can allow incoming SSH connections only from the VPN IP address.")),(0,o.kt)("h2",{id:"start-the-sentry-node"},"Start the sentry node"),(0,o.kt)("p",null,"You will first start the Heimdall service. Once the Heimdall service syncs, you will start the Bor service."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The Heimdall service takes several days to fully sync from scratch."),(0,o.kt)("p",{parentName:"admonition"},"Alternatively, you can use a maintained snapshot, which will reduce the sync time to a few hours. For detailed instructions, see ",(0,o.kt)("a",{parentName:"p",href:"https://forum.polygon.technology/t/snapshot-instructions-for-heimdall-and-bor/9233"},(0,o.kt)("ins",null,"Snapshot Instructions for Heimdall and Bor")),"."),(0,o.kt)("p",{parentName:"admonition"},"For snapshot download links, see ",(0,o.kt)("a",{parentName:"p",href:"https://snapshot.polygon.technology/"},"Polygon Chains Snapshots"),".")),(0,o.kt)("h3",{id:"start-the-heimdall-service"},"Start the Heimdall service"),(0,o.kt)("p",null,"The latest version, ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/maticnetwork/heimdall/releases/tag/v0.3.3"},"Heimdall v.0.3.3"),", contains a few enhancements such as:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Restricting data size in state sync txs to:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"30Kb")," when represented in ",(0,o.kt)("strong",{parentName:"li"},"bytes")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"60Kb")," when represented as ",(0,o.kt)("strong",{parentName:"li"},"string"),"."))),(0,o.kt)("li",{parentName:"ol"},"Increasing the ",(0,o.kt)("strong",{parentName:"li"},"delay time")," between the contract events of different validators to ensure that the mempool doesn't get filled very quickly in case of a burst of events which can hamper the progress of the chain.")),(0,o.kt)("p",null,"The following example shows how the data size is restricted:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'Data - "abcd1234"\nLength in string format - 8\nHex Byte representation - [171 205 18 52]\nLength in byte format - 4\n')),(0,o.kt)("p",null,"Start the Heimdall service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service heimdalld start\n")),(0,o.kt)("p",null,"From v.0.3.0 the Heimdall rest-server is incorporated into Heimdall. Versions before v.0.3.0  will need to start the heimdall rest-server. Later versions can skip this action\nStart the Heimdall rest-server:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service heimdalld-rest-server start\n")),(0,o.kt)("p",null,"Check the Heimdall service logs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u heimdalld.service -f\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"In the logs, you may see the following errors:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Stopping peer for error")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"MConnection flush failed")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"use of closed network connection"))),(0,o.kt)("p",{parentName:"admonition"},"These mean that one of the nodes on the network refused a connection to your node. You do not need to do anything with these errors. Wait for your node to crawl more nodes on the network.")),(0,o.kt)("p",null,"Check the Heimdall rest-server logs if your install is before v.0.3.0:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u heimdalld-rest-server.service -f\n")),(0,o.kt)("p",null,"Check the sync status of Heimdall:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"curl localhost:26657/status\n")),(0,o.kt)("p",null,"In the output, the ",(0,o.kt)("inlineCode",{parentName:"p"},"catching_up")," value is:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"true")," \u2014 the Heimdall service is syncing."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"false")," \u2014 the Heimdall service is fully synced.")),(0,o.kt)("p",null,"Wait for the Heimdall service to fully sync."),(0,o.kt)("h3",{id:"start-the-bor-service"},"Start the Bor Service"),(0,o.kt)("p",null,"Once the Heimdall service is fully synced, start the Bor service."),(0,o.kt)("p",null,"Start the Bor service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service bor start\n")),(0,o.kt)("p",null,"Check the Bor service logs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u bor.service -f\n")),(0,o.kt)("h2",{id:"configure-the-validator-node"},"Configure the validator node"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To complete this section, you must have your own RPC endpoint of your own fully synced Ethereum mainnet node ready. The use of Infura and Alchemy is also sufficient and widely used among validators.")),(0,o.kt)("h3",{id:"configure-the-heimdall-service-1"},"Configure the Heimdall Service"),(0,o.kt)("p",null,"Log into the remote validator machine."),(0,o.kt)("p",null,"Open ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml")," for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/heimdall/config/config.toml"),"."),(0,o.kt)("p",null,"Change the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"moniker")," \u2014 any name. Example: ",(0,o.kt)("inlineCode",{parentName:"li"},'moniker = "my-validator-node"'),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"pex")," \u2014 set the value to ",(0,o.kt)("inlineCode",{parentName:"li"},"false")," to disable the peer exchange. Example: ",(0,o.kt)("inlineCode",{parentName:"li"},"pex = false"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"private_peer_ids")," \u2014 comment out the value to disable it. Example: ",(0,o.kt)("inlineCode",{parentName:"li"},'# private_peer_ids = ""'),".")),(0,o.kt)("p",null,"  To get the node ID of Heimdall on the sentry machine:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Login to the sentry machine.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Run ",(0,o.kt)("inlineCode",{parentName:"p"},"heimdalld tendermint show-node-id"),"."),(0,o.kt)("p",{parentName:"li"},"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'persistent_peers = "sentry_machineNodeID@sentry_instance_ip:26656"')))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"prometheus")," \u2014 set the value to ",(0,o.kt)("inlineCode",{parentName:"li"},"true")," to enable the Prometheus metrics. Example: ",(0,o.kt)("inlineCode",{parentName:"li"},"prometheus = true"),".")),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),"."),(0,o.kt)("p",null,"Open for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/heimdall/config/heimdall-config.toml"),"."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"heimdall-config.toml"),", change the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"eth_rpc_url")," \u2014 an RPC endpoint for a fully synced Ethereum mainnet node, i.e Infura. ",(0,o.kt)("inlineCode",{parentName:"li"},"eth_rpc_url =<insert Infura or any full node RPC URL to Ethereum>"))),(0,o.kt)("p",null,"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'eth_rpc_url = "https://nd-123-456-789.p2pify.com/60f2a23810ba11c827d3da642802412a"')),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"heimdall-config.toml"),"."),(0,o.kt)("h3",{id:"configure-the-bor-service-1"},"Configure the Bor Service"),(0,o.kt)("p",null,"Open for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/bor/config.toml"),"."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml"),", ensure the trusted-nodes parameter has the following values:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},'"enode://sentry_machine_enodeID@sentry_machine_ip:30303"')," \u2014 the node ID and IP address of Bor set up on the sentry machine."),(0,o.kt)("p",{parentName:"li"},"To get the node ID of Bor on the sentry machine:"),(0,o.kt)("ol",{parentName:"li"},(0,o.kt)("li",{parentName:"ol"},"Log into the sentry machine."),(0,o.kt)("li",{parentName:"ol"},"Run ",(0,o.kt)("inlineCode",{parentName:"li"},"bor bootnode -node-key /var/lib/bor/data/bor/nodekey"),", this command only works while Bor is not running. If the IP address is ",(0,o.kt)("inlineCode",{parentName:"li"},"0.0.0.0"),", replace it with external facing IP address")),(0,o.kt)("p",{parentName:"li"},"Example: ",(0,o.kt)("inlineCode",{parentName:"p"},'"enode://a8024075291c0dd3467f5af51a05d531f9e518d6cd229336156eb6545581859e8997a80bc679fdb7a3bd7473744c57eeb3411719b973b2d6c69eff9056c0578f@188.166.216.25:30303"'),"."))),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"config.toml")," file."),(0,o.kt)("h2",{id:"set-the-owner-and-signer-key"},"Set the owner and signer key"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"To complete this section, you must have already created two Ethereum wallets and have the private keys available as needed. One address will be used as the ",(0,o.kt)("inlineCode",{parentName:"p"},"Signer")," and the other address as the ",(0,o.kt)("inlineCode",{parentName:"p"},"Owner"),". Only the ",(0,o.kt)("inlineCode",{parentName:"p"},"Signer")," address will be used in this section at the moment.")),(0,o.kt)("p",null,"On Polygon, you should keep the owner and signer keys different."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Signer \u2014 the address that signs the ",(0,o.kt)("a",{parentName:"li",href:"../glossary#checkpoint-transaction"},"checkpoint transactions"),". The recommendation is to keep at least 1 ETH on the signer address."),(0,o.kt)("li",{parentName:"ul"},"Owner \u2014 the address that does the staking transactions. The recommendation is to keep the MATIC tokens on the owner address.")),(0,o.kt)("h3",{id:"generate-a-heimdall-private-key"},"Generate a Heimdall private key"),(0,o.kt)("p",null,"You must generate a Heimdall private key only on the validator machine. ",(0,o.kt)("strong",{parentName:"p"},"Do not generate a Heimdall private key on the sentry machine.")),(0,o.kt)("p",null,"To generate the private key, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"heimdallcli generate-validatorkey ETHEREUM_PRIVATE_KEY\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"ETHEREUM_PRIVATE_KEY \u2014 your Ethereum wallet\u2019s ",(0,o.kt)("inlineCode",{parentName:"p"},"Signer")," private key")),(0,o.kt)("p",null,"This will generate ",(0,o.kt)("inlineCode",{parentName:"p"},"priv_validator_key.json"),". Move the generated JSON file to the Heimdall configuration directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"mv ./priv_validator_key.json /var/lib/heimdall/config/\n")),(0,o.kt)("h3",{id:"generate-a-bor-keystore-file"},"Generate a Bor keystore file"),(0,o.kt)("p",null,"You must generate a Bor keystore file only on the validator machine. ",(0,o.kt)("strong",{parentName:"p"},"Do not generate a Bor keystore file on the sentry machine.")),(0,o.kt)("p",null,"To generate the private key, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"heimdallcli generate-keystore ETHEREUM_PRIVATE_KEY\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"ETHEREUM_PRIVATE_KEY \u2014 your Ethereum wallet\u2019s ",(0,o.kt)("inlineCode",{parentName:"p"},"Signer")," private key.")),(0,o.kt)("p",null,"When prompted, set up a password to the keystore file."),(0,o.kt)("p",null,"This will generate a ",(0,o.kt)("inlineCode",{parentName:"p"},"UTC-<time>-<address>")," keystore file."),(0,o.kt)("p",null,"Move the generated keystore file to the Bor configuration directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"mv ./UTC-<time>-<address> /var/lib/bor/data/keystore/\n")),(0,o.kt)("p",null,"Ensure the ",(0,o.kt)("inlineCode",{parentName:"p"},"keystore")," parameter in ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/bor/config.toml")," matches the directory ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/bor/data/keystore/")),(0,o.kt)("h3",{id:"add-passwordtxt"},"Add ",(0,o.kt)("inlineCode",{parentName:"h3"},"password.txt")),(0,o.kt)("p",null,"Make sure to create a ",(0,o.kt)("inlineCode",{parentName:"p"},"password.txt")," file then add the Bor keystore file password right in the ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/bor/data/password.txt")," file. Ensure that ",(0,o.kt)("inlineCode",{parentName:"p"},"password")," parameter in ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/bor/config.toml")," matches the location of the password file."),(0,o.kt)("h3",{id:"add-your-ethereum-address"},"Add your Ethereum address"),(0,o.kt)("p",null,"Open for editing ",(0,o.kt)("inlineCode",{parentName:"p"},"vi /var/lib/bor/config.toml"),"."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"[accounts]")," section you should have paramater ",(0,o.kt)("inlineCode",{parentName:"p"},"password")," already defined from previous step, now add your Ethereum address to ",(0,o.kt)("inlineCode",{parentName:"p"},"unlock")," parameter and also ensure ",(0,o.kt)("inlineCode",{parentName:"p"},"allow-insecure-unlock")," has a value of ",(0,o.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,o.kt)("p",null,"Example: "),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},' [accounts]\n    allow-insecure-unlock = true\n    password = "/var/lib/bor/password.txt"\n    unlock = ["0xca67a8D767e45056DC92384b488E9Af654d78DE2"]\n')),(0,o.kt)("p",null,"Save the changes in ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/lib/bor/config.toml"),"."),(0,o.kt)("h2",{id:"start-the-validator-node"},"Start the Validator node"),(0,o.kt)("p",null,"At this point, you must have:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"The Heimdall service on the sentry machine fully synced and running."),(0,o.kt)("li",{parentName:"ul"},"The Bor service on the sentry machine running."),(0,o.kt)("li",{parentName:"ul"},"The Heimdall service and the Bor service on the validator machine configured."),(0,o.kt)("li",{parentName:"ul"},"Your owner and signer keys configured.")),(0,o.kt)("h3",{id:"start-the-heimdall-service-1"},"Start the Heimdall Service"),(0,o.kt)("p",null,"You will now start the Heimdall service on the validator machine. Once the Heimdall service syncs, you will start the Bor service on the validator machine."),(0,o.kt)("p",null,"Start the Heimdall service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service heimdalld start\n")),(0,o.kt)("p",null,"Start the Heimdall rest-server (Versions before v.0.3.0):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service heimdalld-rest-server start\n")),(0,o.kt)("p",null,"Start the Heimdall bridge (Versions before v.0.3.0):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service heimdalld-bridge start\n")),(0,o.kt)("p",null,"Check the Heimdall service logs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u heimdalld.service -f\n")),(0,o.kt)("p",null,"Check the Heimdall rest-server logs (Versions before v.0.3.0):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u heimdalld-rest-server.service -f\n")),(0,o.kt)("p",null,"Check the Heimdall bridge logs (Versions before v.0.3.0):"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh-"},"journalctl -u heimdalld-bridge.service -f\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"If your Heimdall version is after v.0.3.0 then the logs of heimdalld-rest-server and heimdalld-bridge are in the heimdalld service logs as these three were combined into one service from v.0.3.0.")),(0,o.kt)("p",null,"Check the sync status of Heimdall:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"curl localhost:26657/status\n")),(0,o.kt)("p",null,"In the output, the ",(0,o.kt)("inlineCode",{parentName:"p"},"catching_up")," value is:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"true")," \u2014 the Heimdall service is syncing."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"false")," \u2014 the Heimdall service is fully synced.")),(0,o.kt)("p",null,"Wait for the Heimdall service to fully sync."),(0,o.kt)("h3",{id:"start-the-bor-service-1"},"Start the Bor Service"),(0,o.kt)("p",null,"Once the Heimdall service on the validator machine is fully synced, start the Bor service on the validator machine."),(0,o.kt)("p",null,"Start the Bor service:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"sudo service bor start\n")),(0,o.kt)("p",null,"Check the Bor service logs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"journalctl -u bor.service -f\n")),(0,o.kt)("h3",{id:"seed-nodes-and-bootnodes"},"Seed nodes and bootnodes"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Heimdall seed nodes:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'moniker=<enter unique identifier>\n\n# Mainnet:\nseeds="2a53a15ffc70ad41b6876ecbe05c50a66af01e20@3.211.248.31:26656,6f829065789e5b156cbbf076f9d133b4d7725847@3.212.183.151:26656,7285a532bad665f051c0aadc31054e2e61ca2b3d@3.93.224.197:26656,0b431127d21c8970f1c353ab212be4f1ba86c3bf@184.73.124.158:26656,f4f605d60b8ffaaf15240564e58a81103510631c@159.203.9.164:26656,31b79cf4a628a4619e8e9ae95b72e4354c5a5d90@44.232.55.71:26656,a385dd467d11c4cdb0be8b51d7bfb0990f49abc3@35.199.4.13:26656,daad548c0a163faae1d8d58425f97207acf923fd@35.230.116.151:26656,81c76e82fcc3dc9a0a1554a3edaa09a632795ea8@35.221.13.28:26656"\n\n# Testnet:\nseeds="e72c0466a02ea43b2198bd3a9454b87a3ef0d77e@54.147.31.250:26656,b302d1ddb21102e794b524d05152a7834da05bd1@34.226.134.117:26656,9dfc12d9f39257cefc3d57a4d7302586e59a994e@18.213.200.99:26656"\n'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Bootnodes:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'# Mainnet:\nbootnode ["enode://0cb82b395094ee4a2915e9714894627de9ed8498fb881cec6db7c65e8b9a5bd7f2f25cc84e71e89d0947e51c76e85d0847de848c7782b13c0255247a6758178c@44.232.55.71:30303","enode://88116f4295f5a31538ae409e4d44ad40d22e44ee9342869e7d68bdec55b0f83c1530355ce8b41fbec0928a7d75a5745d528450d30aec92066ab6ba1ee351d710@159.203.9.164:30303","enode://4be7248c3a12c5f95d4ef5fff37f7c44ad1072fdb59701b2e5987c5f3846ef448ce7eabc941c5575b13db0fb016552c1fa5cca0dda1a8008cf6d63874c0f3eb7@3.93.224.197:30303","enode://32dd20eaf75513cf84ffc9940972ab17a62e88ea753b0780ea5eca9f40f9254064dacb99508337043d944c2a41b561a17deaad45c53ea0be02663e55e6a302b2@3.212.183.151:30303"]\n\n# Testnet:\nbootnodes ["enode://320553cda00dfc003f499a3ce9598029f364fbb3ed1222fdc20a94d97dcc4d8ba0cd0bfa996579dcc6d17a534741fb0a5da303a90579431259150de66b597251@54.147.31.250:30303","enode://f0f48a8781629f95ff02606081e6e43e4aebd503f3d07fc931fad7dd5ca1ba52bd849a6f6c3be0e375cf13c9ae04d859c4a9ae3546dc8ed4f10aa5dbb47d4998@34.226.134.117:30303"]\n')))),(0,o.kt)("h2",{id:"check-node-health-with-the-community"},"Check node health with the community"),(0,o.kt)("p",null,"Now that your Sentry and Validator nodes are synced and running, head over to ",(0,o.kt)("a",{parentName:"p",href:"https://discord.com/invite/0xPolygon"},"Discord")," and ask the community to health-check your nodes."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"As validators, it\u2019s mandatory to always have a check of the signer address. If the ETH balance reaches below 0.5 ETH then it should be refilled. Avoiding this will push out nodes from submitting checkpoint transactions.")),(0,o.kt)("h2",{id:"proceed-to-staking"},"Proceed to staking"),(0,o.kt)("p",null,"Now that you have your Sentry and Validator nodes health-checked, proceed to ",(0,o.kt)("a",{parentName:"p",href:"/docs/maintain/validator/core-components/staking"},"Staking"),"."))}u.isMDXComponent=!0}}]);