"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[93112],{3905:function(e,t,a){a.d(t,{Zo:function(){return d},kt:function(){return m}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),u=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(a),m=r,g=p["".concat(s,".").concat(m)]||p[m]||c[m]||i;return a?n.createElement(g,o(o({ref:t},d),{},{components:a})):n.createElement(g,o({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},85162:function(e,t,a){a.d(t,{Z:function(){return o}});var n=a(67294),r=a(86010),i="tabItem_Ymn6";function o(e){var t=e.children,a=e.hidden,o=e.className;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,o),hidden:a},t)}},74866:function(e,t,a){a.d(t,{Z:function(){return y}});var n=a(87462),r=a(67294),i=a(86010),o=a(12466),l=a(76775),s=a(91980),u=a(67392),d=a(50012);function c(e){return function(e){return r.Children.map(e,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function p(e){var t=e.values,a=e.children;return(0,r.useMemo)((function(){var e=null!=t?t:c(a);return function(e){var t=(0,u.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,a])}function m(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function g(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId,i=(0,l.k6)(),o=function(e){var t=e.queryString,a=void 0!==t&&t,n=e.groupId;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:a,groupId:n});return[(0,s._X)(o),(0,r.useCallback)((function(e){if(o){var t=new URLSearchParams(i.location.search);t.set(o,e),i.replace(Object.assign({},i.location,{search:t.toString()}))}}),[o,i])]}function h(e){var t,a,n,i,o=e.defaultValue,l=e.queryString,s=void 0!==l&&l,u=e.groupId,c=p(e),h=(0,r.useState)((function(){return function(e){var t,a=e.defaultValue,n=e.tabValues;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+n.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}var r=null!=(t=n.find((function(e){return e.default})))?t:n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:o,tabValues:c})})),k=h[0],w=h[1],f=g({queryString:s,groupId:u}),b=f[0],v=f[1],N=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:u}.groupId),a=(0,d.Nk)(t),n=a[0],i=a[1],[n,(0,r.useCallback)((function(e){t&&i.set(e)}),[t,i])]),y=N[0],W=N[1],x=function(){var e=null!=b?b:y;return m({value:e,tabValues:c})?e:null}();return(0,r.useLayoutEffect)((function(){x&&w(x)}),[x]),{selectedValue:k,selectValue:(0,r.useCallback)((function(e){if(!m({value:e,tabValues:c}))throw new Error("Can't select invalid tab value="+e);w(e),v(e),W(e)}),[v,W,c]),tabValues:c}}var k=a(72389),w="tabList__CuJ",f="tabItem_LNqP";function b(e){var t=e.className,a=e.block,l=e.selectedValue,s=e.selectValue,u=e.tabValues,d=[],c=(0,o.o5)().blockElementScrollPositionUntilNextRender,p=function(e){var t=e.currentTarget,a=d.indexOf(t),n=u[a].value;n!==l&&(c(t),s(n))},m=function(e){var t,a=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":var n,r=d.indexOf(e.currentTarget)+1;a=null!=(n=d[r])?n:d[0];break;case"ArrowLeft":var i,o=d.indexOf(e.currentTarget)-1;a=null!=(i=d[o])?i:d[d.length-1]}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":a},t)},u.map((function(e){var t=e.value,a=e.label,o=e.attributes;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:function(e){return d.push(e)},onKeyDown:m,onClick:p},o,{className:(0,i.Z)("tabs__item",f,null==o?void 0:o.className,{"tabs__item--active":l===t})}),null!=a?a:t)})))}function v(e){var t=e.lazy,a=e.children,n=e.selectedValue;if(a=Array.isArray(a)?a:[a],t){var i=a.find((function(e){return e.props.value===n}));return i?(0,r.cloneElement)(i,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n})})))}function N(e){var t=h(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",w)},r.createElement(b,(0,n.Z)({},e,t)),r.createElement(v,(0,n.Z)({},e,t)))}function y(e){var t=(0,k.Z)();return r.createElement(N,(0,n.Z)({key:String(t)},e))}},29656:function(e,t,a){a.r(t),a.d(t,{assets:function(){return d},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var n=a(87462),r=a(63366),i=(a(67294),a(3905)),o=(a(74866),a(85162),["components"]),l={id:"widget",title:"Wallet Widget",sidebar_label:"Wallet Widget",description:"UI tools to execute bridge transactions.",keywords:["docs","matic"],image:"https://matic.network/banners/matic-network-16x9.png"},s=void 0,u={unversionedId:"develop/ethereum-polygon/tools/widget",id:"develop/ethereum-polygon/tools/widget",title:"Wallet Widget",description:"UI tools to execute bridge transactions.",source:"@site/docs/develop/ethereum-polygon/tools/widget.md",sourceDirName:"develop/ethereum-polygon/tools",slug:"/develop/ethereum-polygon/tools/widget",permalink:"/matic-docs/docs/develop/ethereum-polygon/tools/widget",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/develop/ethereum-polygon/tools/widget.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686626387,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"widget",title:"Wallet Widget",sidebar_label:"Wallet Widget",description:"UI tools to execute bridge transactions.",keywords:["docs","matic"],image:"https://matic.network/banners/matic-network-16x9.png"}},d={},c=[{value:"Widget dashboard",id:"widget-dashboard",level:3},{value:"Install",id:"install",level:2},{value:"Examples",id:"examples",level:2},{value:"How to use",id:"how-to-use",level:2},{value:"With target",id:"with-target",level:3},{value:"Without target",id:"without-target",level:3},{value:"Important Note \ud83d\udc49",id:"important-note-",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Available configuration are",id:"available-configuration-are",level:2},{value:"Events",id:"events",level:2},{value:"Subscribe to events",id:"subscribe-to-events",level:3},{value:"Unsubscribe to events",id:"unsubscribe-to-events",level:3},{value:"List of events:",id:"list-of-events",level:2},{value:"APIS",id:"apis",level:2}],p={toc:c};function m(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Wallet widget is a UI tool which can be embedded in any web application for executing bridge transactions - Deposit & Withdraw. "),(0,i.kt)("p",null,"Every widget is identified by an unique name which you can get from ",(0,i.kt)("a",{parentName:"p",href:"https://wallet.polygon.technology/widget-dashboard"},"Widget dashboard")," ."),(0,i.kt)("h3",{id:"widget-dashboard"},"Widget dashboard"),(0,i.kt)("p",null,"Widget can be created from the widget dashboard page in the wallet application. It allows the user to create a new widget with some customisable options."),(0,i.kt)("p",null,"Once the widget is created, You can copy code snippet and add it in your application or use the widget name and configure by yourself."),(0,i.kt)("p",null,"Here is link to widget dashboard -"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"mainnet - ",(0,i.kt)("a",{parentName:"li",href:"https://wallet.polygon.technology/widget-dashboard"},"https://wallet.polygon.technology/widget-dashboard")),(0,i.kt)("li",{parentName:"ul"},"testnet - ",(0,i.kt)("a",{parentName:"li",href:"https://wallet-dev.polygon.technology/widget-dashboard"},"https://wallet-dev.polygon.technology/widget-dashboard"))),(0,i.kt)("h2",{id:"install"},"Install"),(0,i.kt)("p",null,"Widget is exported as javascript library and available as npm package. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm i @maticnetwork/wallet-widget\n")),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("p",null,"We have created examples for different framework and tools to help you with the development. All examples are present at - ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/maticnetwork/wallet-widget-example"},"https://github.com/maticnetwork/wallet-widget-example")),(0,i.kt)("h2",{id:"how-to-use"},"How to use"),(0,i.kt)("h3",{id:"with-target"},"With target"),(0,i.kt)("p",null,"Consider you have a button in your app and you want to show widget when clicked on that button - "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<button id="btnMaticWidget"></btn>\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"import { Widget } from \"@maticnetwork/wallet-widget\";\n\nvar widget = new Widget({\n    appName: \"<widget name>\", //widget name from dashboard\n    target: '#btnMaticWidget', // element selector for showing widget on click\n    network: 'mainnet' // network to be used - testnet or mainnet\n});\n")),(0,i.kt)("p",null,"Create widget whenever you are ready. It is best to call create function after document is loaded."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"await widget.create();\n")),(0,i.kt)("p",null,"widget is created, now click on your button and widget will be shown."),(0,i.kt)("h3",{id:"without-target"},"Without target"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'import { Widget } from "@maticnetwork/wallet-widget";\n\nvar widget = new Widget({\n    appName: "<widget name>", //widget name from dashboard\n    network: \'mainnet\' // network to be used - testnet or mainnet\n});\n\nawait widget.create();\n')),(0,i.kt)("p",null,"widget is now created, but in order to show the widget - you will have to call ",(0,i.kt)("inlineCode",{parentName:"p"},"show")," API."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"widget.show();\n")),(0,i.kt)("p",null,"Similarly you can hide the widget, by calling ",(0,i.kt)("inlineCode",{parentName:"p"},"hide")," API."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"widget.hide();\n")),(0,i.kt)("h3",{id:"important-note-"},"Important Note \ud83d\udc49"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},'Based on network "testnet" or "mainnet", you need to create your app on respective dashboard. We recommend to create app with same name on both testnet & mainnet, so that you don\'t have any issue when you are changing network.')),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Wallet widget is UI Library and on different website it will look different & might have some issues like - colors, responsiveness etc. So please spend some time on testing and customizing. In case of any help needed - please reach out to ",(0,i.kt)("a",{parentName:"p",href:"https://support.polygon.technology/"},"support team"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Wallet widget is full screen in mobile devices but you can customize it by ",(0,i.kt)("inlineCode",{parentName:"p"},"style")," configuration."))),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"Configuration can be supplied in Widget constructor."),(0,i.kt)("h2",{id:"available-configuration-are"},"Available configuration are"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"target"),'\xa0: string - CSS selector for showing widget on click of element. For example, "#btnMaticWidget" will be the target in the code below.')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},'<button id="btnMaticWidget">Matic widget</button>\n')),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"network"),"\xa0: string - network to be used. Two options are available - 'testnet' or 'mainnet'."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"width"),"\xa0: number - Width of the widget"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"height"),"\xa0: number - Height of the widget"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"autoShowTime"),"\xa0: number - Auto show widget after specified time in millisecond"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"appName"),"\xa0: string - name of your app, this can be retrieved on widget dashboard."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"position"),"\xa0: string - Sets the position of the widget. The available options are -",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"center"),(0,i.kt)("li",{parentName:"ul"},"bottom-right"),(0,i.kt)("li",{parentName:"ul"},"bottom-left"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"amount"),"\xa0: string - Prefill the amount in text box"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"page")," : string - select the page. Available options are - ",(0,i.kt)("inlineCode",{parentName:"li"},"withdraw"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"deposit"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"overlay")," : boolean - show overlay when widget is opened. By default it is false."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"style")," : object - apply some css styles to the widget. ")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"var widget = new MaticWidget({\n    appName: \"<your app id>\", //appName from dashboard\n    target: '#btnMaticWidget', // element selector for showing widget on click\n    network: 'testnet' // network to be used - testnet or mainnet,\n    style:{\n      color:'red'\n    }\n});\n")),(0,i.kt)("h2",{id:"events"},"Events"),(0,i.kt)("p",null,"Widget emits some events which can be used to know what is happening inside the application."),(0,i.kt)("h3",{id:"subscribe-to-events"},"Subscribe to events"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.on('load',()=>{\n  console.log('widget is loaded');\n})\n")),(0,i.kt)("h3",{id:"unsubscribe-to-events"},"Unsubscribe to events"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.off('load',<callback>)\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Callback should be same as what was used to subscribe the event. So its better to store the callback in a variable.`")),(0,i.kt)("h2",{id:"list-of-events"},"List of events:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"load"),"\xa0- Widget is loaded"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"close"),"\xa0- Widget is closed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"approveInit"),"\xa0- Approval transaction is initialized"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"approveComplete"),"\xa0- Approval transaction is completed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"approveError"),"\xa0- Approval transaction failed due to some error, or the user denied the transaction on Metamask"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"depositInit"),"\xa0- Deposit transaction is initialized"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"depositComplete"),"\xa0- Deposit transaction is completed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"depositError"),"\xa0- Deposit transaction failed due to some error, or the user denied the deposit complete transaction on Metamask"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"burnInit"),"\xa0- Withdrawal burn transaction is initialized"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"burnComplete"),"\xa0- Withdrawal burn transaction is completed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"confirmWithdrawInit"),"\xa0- Withdrawal is checkpointed and confirm transaction is initialized"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"confirmWithdrawComplete"),"\xa0- Withdrawal confirm transaction in completed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"confirmWithdrawError"),"\xa0- Withdrawal confirm transaction failed due to some error, or the user denied the withdrawal confirm transaction on Metamask"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"exitInit"),"\xa0- Withdrawal exit transaction is initialized"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"exitComplete"),"\xa0- Withdrawal exit transaction is completed"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"exitError"),"\xa0- Withdrawal exit transaction failed due to some error, or the user denied the withdrawal exit transaction on Metamask")),(0,i.kt)("h2",{id:"apis"},"APIS"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"show")," -\nshow the widget")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.show()\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"hide")," -\nhide the widget")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.hide()\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"on")," -\nsubscribe to events")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.on('<event name>', callback)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"off")," -\nunsubscribe to events")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"widget.off('<event name>', callback)\n")))}m.isMDXComponent=!0}}]);