"use strict";(self.webpackChunkmatic_docs=self.webpackChunkmatic_docs||[]).push([[16765],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),d=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return r.createElement(p.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=d(n),m=a,y=u["".concat(p,".").concat(m)]||u[m]||l[m]||o;return n?r.createElement(y,i(i({ref:t},c),{},{components:n})):r.createElement(y,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var d=2;d<o;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},52542:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return l}});var r=n(87462),a=n(63366),o=(n(67294),n(3905)),i=["components"],s={id:"manage-private-keys",title:"Manage private keys",description:"How to manage private keys and what types of keys there are.",keywords:["docs","polygon","edge","private","key","keystore"]},p=void 0,d={unversionedId:"edge/configuration/manage-private-keys",id:"edge/configuration/manage-private-keys",title:"Manage private keys",description:"How to manage private keys and what types of keys there are.",source:"@site/docs/edge/configuration/manage-private-keys.md",sourceDirName:"edge/configuration",slug:"/edge/configuration/manage-private-keys",permalink:"/matic-docs/docs/edge/configuration/manage-private-keys",draft:!1,editUrl:"https://github.com/maticnetwork/matic-docs/tree/master/docs/edge/configuration/manage-private-keys.md",tags:[],version:"current",lastUpdatedBy:"k-batista",lastUpdatedAt:1686625626,formattedLastUpdatedAt:"Jun 13, 2023",frontMatter:{id:"manage-private-keys",title:"Manage private keys",description:"How to manage private keys and what types of keys there are.",keywords:["docs","polygon","edge","private","key","keystore"]},sidebar:"edge",previous:{title:"Server Config File",permalink:"/matic-docs/docs/edge/configuration/sample-config"},next:{title:"Prometheus metrics",permalink:"/matic-docs/docs/edge/configuration/prometheus-metrics"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Key format",id:"key-format",level:2},{value:"Consensus Private Key",id:"consensus-private-key",level:2},{value:"Networking Private Key",id:"networking-private-key",level:2},{value:"BLS Secret Key",id:"bls-secret-key",level:2},{value:"Import / Export",id:"import--export",level:2}],u={toc:l};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"The Polygon Edge has two types of private keys that it directly manages:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Private key used for the consensus mechanism")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Private key used for networking by libp2p")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"(Optional) BLS Private key used for the consensus mechanism to aggregate validators' signatures"))),(0,o.kt)("p",null,"Currently, the Polygon Edge doesn't offer support for direct account management."),(0,o.kt)("p",null,"Based on the directory structure outlined in the ",(0,o.kt)("a",{parentName:"p",href:"/docs/edge/working-with-node/backup-restore"},"Backup & Restore guide"),",\nthe Polygon Edge stores these mentioned key files in two distinct directories - ",(0,o.kt)("strong",{parentName:"p"},"consensus")," and ",(0,o.kt)("strong",{parentName:"p"},"keystore"),"."),(0,o.kt)("h2",{id:"key-format"},"Key format"),(0,o.kt)("p",null,"The private keys are stored in simple ",(0,o.kt)("strong",{parentName:"p"},"Base64 format"),", so they can be human-readable and portable."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Example private key\n0802122068a1bdb1c8af5333e58fe586bc0e9fc7aff882da82affb678aef5d9a2b9100c0\n")),(0,o.kt)("admonition",{title:"Key Type",type:"info"},(0,o.kt)("p",{parentName:"admonition"},"All private key files generated and used inside the Polygon Edge are relying on ECDSA with the curve ",(0,o.kt)("a",{parentName:"p",href:"https://en.bitcoin.it/wiki/Secp256k1"},"secp256k1"),"."),(0,o.kt)("p",{parentName:"admonition"},"As the curve is non-standard, it cannot be encoded and stored in any standardized PEM format.\nImporting keys that don't conform to this key type is not supported.")),(0,o.kt)("h2",{id:"consensus-private-key"},"Consensus Private Key"),(0,o.kt)("p",null,"The private key file mentioned as the ",(0,o.kt)("em",{parentName:"p"},"consensus private key")," is also referred to as the ",(0,o.kt)("strong",{parentName:"p"},"validator private key"),".\nThis private key is used when the node is acting as a validator in the network and needs to sign new data."),(0,o.kt)("p",null,"The private key file is located in ",(0,o.kt)("inlineCode",{parentName:"p"},"consensus/validator.key"),", and adheres to the ",(0,o.kt)("a",{parentName:"p",href:"/docs/edge/configuration/manage-private-keys#key-format"},"key format")," mentioned."),(0,o.kt)("admonition",{type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"The validator private key is unique to each validator node. The same key is ",(0,o.kt)("b",null,"not")," to be shared across all validators, as this may compromise the security of your chain.")),(0,o.kt)("h2",{id:"networking-private-key"},"Networking Private Key"),(0,o.kt)("p",null,"The private key file mentioned for networking is used by libp2p to generate the corresponding PeerID, and allow the node to participate in the network."),(0,o.kt)("p",null,"It is located in ",(0,o.kt)("inlineCode",{parentName:"p"},"keystore/libp2p.key"),", and adheres to the ",(0,o.kt)("a",{parentName:"p",href:"/docs/edge/configuration/manage-private-keys#key-format"},"key format")," mentioned."),(0,o.kt)("h2",{id:"bls-secret-key"},"BLS Secret Key"),(0,o.kt)("p",null,"The BLS secret key file is used to aggregate committed seals in the consensus layer. The size of aggregated committed seals by BLS is less than the serialized committed ECDSA signatures."),(0,o.kt)("p",null,"The BLS feature is optional and, it's possible to choose whether to use BLS or not. Refer ",(0,o.kt)("a",{parentName:"p",href:"/docs/edge/consensus/bls"},"BLS")," for more details."),(0,o.kt)("h2",{id:"import--export"},"Import / Export"),(0,o.kt)("p",null,"As the key files are stored in simple Base64 on disk, they can be easily backed up or imported."),(0,o.kt)("admonition",{title:"Changing the key files",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Any kind of change made to the key files on an already set up / running network can lead to serious network/consensus disruption,\nsince the consensus and peer discovery mechanisms store the data derived from these keys in node-specific storage, and rely on this data to\ninitiate connections and perform consensus logic")))}m.isMDXComponent=!0}}]);